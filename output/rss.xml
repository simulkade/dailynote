<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="assets/xml/rss.xsl" media="all"?><rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0"><channel><title>Daily Notes</title><link>http://dailynote.simulkade.com/</link><description>My daily notes</description><atom:link type="application/rss+xml" href="http://dailynote.simulkade.com/rss.xml" rel="self"></atom:link><language>en</language><lastBuildDate>Thu, 15 Jun 2017 18:39:55 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>2017-06-15 daily note</title><link>http://dailynote.simulkade.com/posts/2017-06-15-daily-note.html</link><dc:creator>AA Eftekhari</dc:creator><description>&lt;div&gt;&lt;p&gt;1- Do we pay enough attention to the boundary conditions? Sometimes too much, sometimes too little. I have read many papers, that simulates a physical system, that is well described, with no mention of the boundary conditions. Consider &lt;a href="https://en.wikipedia.org/wiki/Peter_Danckwerts"&gt;Danckwerts&lt;/a&gt; [boundary condition[(http://www.sciencedirect.com/science/article/pii/0009250953800011). Many people don't consider it in their simulations. Wrong boundary conditions results in erroneous outcome from a well thought-out model. I'm going to consider the importance of the boundary conditions in my reviews; major revision if you fail to describe it! When do we pay too much attention to the boundary conditions? Mostly in life, specially in politics. I have to think more about it.  &lt;/p&gt;
&lt;p&gt;2- Write a post about the change of temperature with altitude in the atmosphere. Use coolprop.  &lt;/p&gt;
&lt;p&gt;3- This is how I read excel files (different sheets) and save the sheets as csv files using Pandas, PyCall, and Julia.&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# make sure that pandas and xlrd are installed:&lt;/span&gt;
&lt;span class="c"&gt;# sudo pip install pandas&lt;/span&gt;
&lt;span class="c"&gt;# sudo pip install xlrd&lt;/span&gt;
&lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="n"&gt;PyCall&lt;/span&gt;
&lt;span class="nd"&gt;@pyimport&lt;/span&gt; &lt;span class="n"&gt;pandas&lt;/span&gt; &lt;span class="n"&gt;as&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;
&lt;span class="n"&gt;file_names&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;"Geothermal_Q100_.xlsx"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Geothermal_Q150_.xlsx"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
    &lt;span class="s"&gt;"Geothermal_Q200_.xlsx"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"Geothermal_Q250_.xlsx"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;fn&lt;/span&gt; &lt;span class="kp"&gt;in&lt;/span&gt; &lt;span class="n"&gt;file_names&lt;/span&gt;
    &lt;span class="n"&gt;x1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ExcelFile&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fn&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;sh_names&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x1&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;sheet_names&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;sh&lt;/span&gt; &lt;span class="kp"&gt;in&lt;/span&gt; &lt;span class="n"&gt;sh_names&lt;/span&gt;
        &lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_excel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sh&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;to_csv&lt;/span&gt;&lt;span class="p"&gt;](&lt;/span&gt;&lt;span class="n"&gt;fn&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="k"&gt;end&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;sh&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="s"&gt;".csv"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;end&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;4- Finally finished the code for the geothermal energy problem, including the sensitivity analysis. I'll run it on my other laptop at home. This laptop is fine, but not a workhorse. The outcome of these simulations will be in a paper, and most probably in a presentation next month.  &lt;/p&gt;
&lt;p&gt;5- A quiet evening. Birds chirping outside the window and I'm killing myself by listening to &lt;a href="https://www.radiojavan.com/mp3s/album/Homayoun-Shajarian-Rage-Khab?index=0"&gt;this song&lt;/a&gt; from Homayoon Shajarian. What an amazing voice. The results of my simulations are good. So far I have only analyzed a few samples, and now I'm going to do all 150 simulation results automatically. You can find the results of my work in &lt;a href="https://github.com/simulkade/geothermal"&gt;this repository&lt;/a&gt;.  &lt;/p&gt;&lt;/div&gt;</description><guid>http://dailynote.simulkade.com/posts/2017-06-15-daily-note.html</guid><pubDate>Thu, 15 Jun 2017 07:03:47 GMT</pubDate></item><item><title>2017-06-14 daily note</title><link>http://dailynote.simulkade.com/posts/2017-06-14-daily-note.html</link><dc:creator>AA Eftekhari</dc:creator><description>&lt;div&gt;&lt;p&gt;1- I just learned &lt;a href="https://askubuntu.com/questions/490612/how-do-i-automate-the-activation-of-python-environment#comment656705_490613"&gt;a good trick&lt;/a&gt; to start my python 3 virtual environment that I use for running Nikola to update this blog. Add the following line to the end of your .bashrc file (located in your home folder):&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span&gt;&lt;/span&gt;alias py3="source ~/(path to your virtualenv)/bin/activate"
&lt;/pre&gt;


&lt;p&gt;Now I can easily start my virtual environment by typing &lt;code&gt;py3&lt;/code&gt; in the terminal.  &lt;/p&gt;
&lt;p&gt;2- I just found out that in my &lt;code&gt;JFVM.jl&lt;/code&gt; package, I can create 2D and 3D cell variable by assigning 1D arrays of the right size to the &lt;code&gt;createCellVariable&lt;/code&gt; function, without reshaping the 1D array! It makes things (just a bit) easier in my reactive transport codes.  &lt;/p&gt;
&lt;p&gt;3- I bought some dried fruits and cashew nuts from &lt;a href="https://www.basboernoten.nl"&gt;this online shop&lt;/a&gt;. I just want to recommend it here if you happen to be close to the Netherlands. They have excellent products with a reasonable price (for this region).&lt;/p&gt;
&lt;p&gt;4- Finally solved the geothermal problem in Julia, and just in time, because I have to go and pick up Aida from school.&lt;/p&gt;&lt;/div&gt;</description><guid>http://dailynote.simulkade.com/posts/2017-06-14-daily-note.html</guid><pubDate>Wed, 14 Jun 2017 06:54:43 GMT</pubDate></item><item><title>2017-06-13 daily note</title><link>http://dailynote.simulkade.com/posts/2017-06-13-daily-note.html</link><dc:creator>AA Eftekhari</dc:creator><description>&lt;p&gt;I just deleted my yahoo account, after receiving an email that someone from Thailand has tried to log into my account, I thought it is safer to delete an account that is barely active these days, and is full of spam anyway. I don't feel nostalgic at all. It feels like throwing away a pair of damaged shoes.  &lt;/p&gt;</description><guid>http://dailynote.simulkade.com/posts/2017-06-13-daily-note.html</guid><pubDate>Tue, 13 Jun 2017 06:20:06 GMT</pubDate></item><item><title>2017-06-12 daily notes</title><link>http://dailynote.simulkade.com/posts/2017-06-12-daily-notes.html</link><dc:creator>AA Eftekhari</dc:creator><description>&lt;div&gt;&lt;p&gt;Supervising master students is a challenge. When I was a master student, I defined my project myself, planned it, did all the experiments, and went to my supervisor's office with the outline of the thesis. He was shocked at the beginning, but helped me to give the text a better structure. I am very proud of what I did at the time. Not all the students work like this. Some need constant attention and guidance. I have supervised (am supervising) more than 10 students. One of them was just amazing. Another one was almost fully independent. Two or three needed a minimum level of attention, and the rest needed constant monitoring and help. Now that I think about it, sometimes, students are somewhere between the third and the last group. The problem for someone like me with a temporary appointment is that we need to do as much as possible in the limited time of our contract; therefore, we prefer to work with the first or second group of students. But unfortunately, these students are always snatched by the Professors, who can easily identify (because they teach and we don't) and attract them. I can narrow down my final problem to this: If I need to spend 3 hours to teach a master student to do a task that I can do in less than 3 hours, I prefer to do it myself. This is, sadly, the only solution that matches the circumstances of a post-doc researcher.  &lt;/p&gt;
&lt;p&gt;In matplotlib, I can plot negative values on a (semi)logarithmic scale using the following commands:  &lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;xscale&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"symlog"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;I run the above commands in Julia. The same can be done in python by importing &lt;code&gt;matplotlib.pyplot&lt;/code&gt;.  &lt;/p&gt;
&lt;p&gt;I'm on my second long Pomodoro break. My sessions was not as productive. I checked emails a couple of times and did not focus on a single task during my 25 minute sessions. The result is that my progress is not impressive, although it is not bad at all. I wrote only two paragraphs, but I managed to do most of the calculations that I wanted to add to the paper. Before picking up Aida and taking her to the last session of Dutch school, I'll focus more on writing the results and discussion. The simulation results are mostly analyzed. I only need to fit it into my story, without making it yet another spam paper.  &lt;/p&gt;
&lt;p&gt;I do not like csv files for storing data. They limit the user to tables, which is a form that rarely appears in real life. Moreover, usually that table describe a time series measurement for a physical system with many other parameters that cannot fit into the same table. Recently, I've started using JSON which gives me what I really need. But for this gepthermal paper, I had only CSV file, with long file names that described the properties of each system! I tried to read the file names and do some analysis on the string to extract the required data, but I gave up and did it manually since there was no pattern in the filenames. Fortunately I had only 20 files and it was not really time-consuming (even though I wasted some time trying to do it automatically!).  &lt;/p&gt;&lt;/div&gt;</description><guid>http://dailynote.simulkade.com/posts/2017-06-12-daily-notes.html</guid><pubDate>Mon, 12 Jun 2017 07:13:52 GMT</pubDate></item><item><title>2017-06-09 daily notes</title><link>http://dailynote.simulkade.com/posts/2017-06-09-daily-notes.html</link><dc:creator>AA Eftekhari</dc:creator><description>&lt;div&gt;&lt;p&gt;Today, I wasted some time finding a time management app for my Linux Mint installation. There is an applet for it, called Pomodoro with a nice red ripe tomato icon. I managed to waste a few minutes getting it to work, and it is running on my computer toolbar now.  &lt;/p&gt;
&lt;p&gt;One of the most idiotic things in this Dell laptop's keyboard is that the page up/down keys are located right next to the arrow keys. I have pressed them more that a thousand times by mistake. Are these keys even necessary for a keyboard?  &lt;/p&gt;&lt;/div&gt;</description><guid>http://dailynote.simulkade.com/posts/2017-06-09-daily-notes.html</guid><pubDate>Fri, 09 Jun 2017 07:07:10 GMT</pubDate></item><item><title>2017-06-08-dailynote</title><link>http://dailynote.simulkade.com/posts/2017-06-08-dailynote.html</link><dc:creator>AA Eftekhari</dc:creator><description>&lt;div&gt;&lt;p&gt;Sitting in the library, my own spot this time, looking for references on the efficiency factors of the fossil fuel power plants. The numbers I have in mind are 30% for pulverized coal, 35% for IGCC (integrated coal gasification combined cycle), and 45% for NGCC (natural gas combined cycle). On &lt;a href="https://www.eia.gov/electricity/annual/html/epa_08_02.html"&gt;this page&lt;/a&gt;, the heat rate (which is the amount of heat that is supplied for the production of 1 kWh electricity from the combustion of a fossil fuel) is reported for the American power plants. The numbers for the IGCC are not reported, so I used another report to estimate it. My estimates are:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;power plant&lt;/th&gt;
&lt;th&gt;Efficiency&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;PC&lt;/td&gt;
&lt;td&gt;34%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;IGCC&lt;/td&gt;
&lt;td&gt;40%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;NGCC&lt;/td&gt;
&lt;td&gt;45%&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;I have seen higher values (as high as 60%) reported for the new NGCC power plants. But apparently, those numbers are only valid if the power plant operate on its design (optimum) capacity, that never happens in practice. See for instance &lt;a href="https://www.iea.org/ciab/papers/power_generation_from_coal.pdf"&gt;this report&lt;/a&gt;.  &lt;/p&gt;
&lt;p&gt;I've been trying to use the &lt;a href="https://en.wikipedia.org/wiki/Pomodoro_Technique"&gt;Poromodo technique&lt;/a&gt; for time management. My main problem was that when I'm really focused on a task, I can easily lose track of time. Apparently, there is an app for people like me. I just installed it.  &lt;/p&gt;
&lt;p&gt;Note to self: write a post in &lt;a href="http://www.simulkade.com"&gt;Simulkade&lt;/a&gt; about calling &lt;a href="http://www.coolprop.org"&gt;CoolProp&lt;/a&gt; from MS Excel and Excel macros. It took me a while to solve some of the issues and it is good to write the details here.  &lt;/p&gt;&lt;/div&gt;</description><guid>http://dailynote.simulkade.com/posts/2017-06-08-dailynote.html</guid><pubDate>Thu, 08 Jun 2017 09:05:44 GMT</pubDate></item><item><title>2017-06-07-daily-note</title><link>http://dailynote.simulkade.com/posts/2017-06-07-daily-note.html</link><dc:creator>AA Eftekhari</dc:creator><description>&lt;div&gt;&lt;p&gt;Writing here is like spitting out all the useless and very occasionally useful thoughts that comes to my mind. These days, I'm also writing other stuff that I find extremely boring and only useful if it gives the result I want, otherwise a wasted effort (I don't want to say what I really write). Doing nothing is better than what I'm doing now. The thing is it must be done and only I have to do it. Still, complaining about it feels good!  &lt;/p&gt;
&lt;p&gt;I do not understand the possibility of having a negatively charged carbonate surface without any sulfate or carbonate ions in the system.&lt;/p&gt;&lt;/div&gt;</description><guid>http://dailynote.simulkade.com/posts/2017-06-07-daily-note.html</guid><pubDate>Wed, 07 Jun 2017 06:24:55 GMT</pubDate></item><item><title>2017-06-06 daily notes</title><link>http://dailynote.simulkade.com/posts/2017-06-06-daily-notes.html</link><dc:creator>AA Eftekhari</dc:creator><description>&lt;p&gt;Working on my geothermal energy paper. The second part of my gasification paper, which is practically the last piece of underground coal gasification work from my PhD thesis, is finally under review in the &lt;em&gt;Applied Energy&lt;/em&gt;. I should have published it way earlier. Procrastination, as usual. I submitted the whole chapter first to &lt;em&gt;Energy&lt;/em&gt; and it was rejected. It was too long for a publication. Two years ago, still in Delft, I finally forced myself to divide it into two parts and submitted the first part to the &lt;em&gt;International Journal of Coal Geology&lt;/em&gt; which was quickly accepted. It was a good polished work. The second part needed an introduction. I finished it a few weeks ago and submitted it to &lt;em&gt;Applied Energy&lt;/em&gt;, because I want to make my CV look better by publishing in the journals with high impact factors. Otherwise, I don't really care. This one is also a good work, made even better by a couple of notes from the editor. I don't know how many more energy- and exergy-related publications I'm going to need before being considered a semi-expert on the field. I'm going to give it a try anyway.&lt;br&gt;
One important aspect of what I do in the exergy-analysis of energy-extraction processes, is the simplicity. I try to make the calculation procedure simple and accessible, i.e., no fancy commercial expensive software or complicated numerical tool. But sometimes, I have this feeling that I'm not consistent in simplifying everything. For instance, phase equilibrium and thermodynamic calculations is a topic that I consider relatively simple. But, apparently, not too many researchers concur. I have to be more careful about these aspects of my work. I can, e.g., suggest simple alternatives.&lt;br&gt;
Just received this message from the post that my package (well, Aidin's package has arrived). I ordered a bike trailer for him. He can now go biking with us, with the help of a baby seat that fits inside the trailer. I hope the trailer is not too wide, so I can put in in the bicycle shed in the basement. Exciting!&lt;br&gt;
I feel tired again, for no reason apparently. It might be the vitamin D problem that I had back in the Netherlands. I guess I have to start taking pills again.&lt;br&gt;
I'm going to look into the updated efficiency factors of the power plants (NGCC, IGCC, and PC). The values that I've used in my old Jupyter notebook seems outdated.&lt;/p&gt;</description><guid>http://dailynote.simulkade.com/posts/2017-06-06-daily-notes.html</guid><pubDate>Tue, 06 Jun 2017 09:00:34 GMT</pubDate></item><item><title>Daily notes - 2017-06-02</title><link>http://dailynote.simulkade.com/posts/2017-06-02-daily-notes.html</link><dc:creator>AA Eftekhari</dc:creator><description>&lt;p&gt;Early in the morning, I did some computations by assuming that the injection rate is equal to the water cut and the injection pressure is around the hydrostatic pressure. Depending on the water cut, the recovery factor can be indeed negative but only for very high water cuts (99% plus)&lt;br&gt;
I was thinking about using Reaktoro to estimate the enthalpy of reaction at different temperatures and then fit the correlation that is used in phreeqc for the enthalpy of reaction to the Reaktoro HKF estimations. I'll have to do it later.&lt;br&gt;
I just contacted a seller on Reshopper to buy a bike trailer seat for Aidin.&lt;br&gt;
I'm trying to rewrite a piece of code that I have written many times previously, but for some reason, I cannot focus today.&lt;br&gt;
I sent an email that I should have sent a couple of weeks ago, and although the reply was not favorable, it made me feel less anxious.&lt;br&gt;
My code finally works and it is fast enough. I do not have enough energy to finish my work today, anyway.&lt;br&gt;
I have realized that my problem is not procrastination alone. My other problem is laziness. Don't get me wrong! I'm not comparing myself to the really lazy people, but to real hardworking scientists like Hans. I have to try and force my brain to work harder and longer.  &lt;/p&gt;</description><guid>http://dailynote.simulkade.com/posts/2017-06-02-daily-notes.html</guid><pubDate>Fri, 02 Jun 2017 08:03:51 GMT</pubDate></item><item><title>Daily notes - 1 June 2017</title><link>http://dailynote.simulkade.com/posts/2017-06-01-daily-notes.html</link><dc:creator>AA Eftekhari</dc:creator><description>&lt;div&gt;&lt;p&gt;I'm in the library and this is my plan for today:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Read the recovery data from the data base&lt;/li&gt;
&lt;li&gt;Write an objective function based on the Buckley-Leverett formulation&lt;/li&gt;
&lt;li&gt;Run the optimization problem in Julia&lt;/li&gt;
&lt;li&gt;Optimize the rel-perm parameters&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Funny story: the paper that has done core flooding and reported the recovery data at high temperature, does not report the viscosity of oil at high temperature. I had to calculate it using this correlation:
$$\ln(\frac{\mu}{\mu_0}) = B(\frac{1}{T}-\frac{1}{T_0})$$
I found the B value by fitting the above equation to the viscosity data of n-Dodecane. The viscosity data comes from the cool &lt;a href="http://www.coolprop.org"&gt;CoolProp&lt;/a&gt; package.  &lt;/p&gt;
&lt;p&gt;The recovery data is not a straight line at the beginning of the core flooding. It must be a problem in choosing the right moment to start the timer. I shifted the curve to make it consistent.  &lt;/p&gt;
&lt;p&gt;The most important problem with using the analytical solution of the BL equation as an objective function is that very occasionally, the shock front cannot be found with a reasonable numerical accuracy. This blows up the objective function and the whole optimization procedure. Perhaps, I should try the numerical solution (upwind) that is slower, but (almost) always converges.  &lt;/p&gt;&lt;/div&gt;</description><category>mathjax</category><guid>http://dailynote.simulkade.com/posts/2017-06-01-daily-notes.html</guid><pubDate>Thu, 01 Jun 2017 06:34:44 GMT</pubDate></item></channel></rss>